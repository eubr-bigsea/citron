<article class="content item-editor-page">
  <div class="title-block">
    <h3 class="title"> {{t 'datasource.edit.title'}} <strong>{{model.name}}</strong>
      <span class="sparkline bar" data-type="bar"></span>
    </h3>
  </div>
  <form name="item" id="edit-workflow" {{action 'save' on='submit'}}>
    <div class="card card-block">
      <div class="form-group row">
        <label class="col-sm-2 form-control-label text-xs-right"> {{t 'forms.name.label'}}: </label>
        <div class="col-sm-10">
          {{input type="text" class="form-control boxed" value=model.name}}
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 form-control-label text-xs-right"> {{t 'forms.description.label'}}: </label>
        <div class="col-sm-10">
          <div class="form-group">
            {{textarea class="form-control" id="description" rows="5"  maxlength="1600" height="30vh" value=model.description }}
          </div>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 form-control-label text-xs-right"> {{t 'forms.format.label'}}: </label>
        <div class="col-sm-10">
          <select class="custom-select" onchange={{action (mut model.format) value="target.value"}}>
            {{#each formats as |format|}}
              <option value={{format.value}} selected={{eq format.value model.format}}>{{format.name}}</option>
            {{/each}}
          </select>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 form-control-label text-xs-right"> Public: </label>
        <div class="col-sm-10 same-line">
          <span class='label checkbox-header'>
            <label class="label-checkbox">
              {{input type="checkbox" class='input-checkbox' id="isPublic" checked=model.is_public}}
              <span></span>
            </label>
          </span>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 form-control-label text-xs-right"> {{t 'forms.inferSchema.label'}}:
          <h5 class='label-append'> {{t 'forms.inferSchema.label-append'}}</h5>
        </label>
        <div class="col-sm-10 same-line">
          <span class='label'>
            {{t 'forms.inferSchema.delimiter'}} {{datasources/select2-input class="form-control boxed" delimiter=delimiter}}
          </span>
          <span class='label'>
            {{t 'forms.inferSchema.quote-char'}} {{input type="text" class="form-control boxed" value=quote_char maxlength=1}}
          </span>
          <span class='label checkbox-header'>
            {{t 'forms.inferSchema.header'}}
            <label class="label-checkbox">
              {{input type="checkbox" class='input-checkbox' checked=use_header}}
              <span></span>
            </label>

          </span>
          <a class="btn btn-primary" {{action 'inferSchema'}}> {{t 'forms.inferSchema.infer'}}</a>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 form-control-label text-xs-right"> {{t 'forms.attributes.label'}}:
          <h5 class='label-append'> {{t 'forms.attributes.label-append' resource=(t 'datasource.self')}}</h5>
        </label>
        <div class="col-sm-10">
          <div class="form-group">
            {{datasources/attributes-table attributes=model.attributes}}
          </div>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-10 col-sm-offset-2">
          <button type="submit" class="btn btn-primary">{{t 'forms.save'}}</button>
          {{#link-to 'home.datasources'}}
            <button class="btn btn-danger">{{t 'forms.cancel'}}</button>
          {{/link-to}}
        </div>
      </div>
    </div>
  </form>
</article>
